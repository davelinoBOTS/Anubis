{% load bots_tags %}
{% for line in fieldset %}
	<div class="form-row
	{% if line.fields|length_is:'1' and line.errors %} errors{% endif %}
	{% if not line.has_visible_field %} hidden{% endif %}
	{% for field in line %}{% if field.field.name %} field-{{ field.field.name }}{% endif %}{% endfor %}">
		{% for field in line %}
			<div class="input-group {% if not field.is_checkbox %}mb-3{% endif %}" style="width: 100%">
				{% if not field.is_checkbox %}
					<div class="input-group-prepend">
						<span class="input-group-text">
							{{ field.label_tag }}
						</span>
					</div>
				{% endif %}{{field.select}}
				{% if field.is_checkbox %}
					<div class="input-group-prepend">
						<span class="input-group-text d-flex flex-column align-items-start">
							{{ field.field|bots_input_lookups }}
							{{ field.label_tag }}
						</span>
					</div>
					{% if field.field.help_text %}
						<div class="help" style="position: relative;flex: -moz-available;margin-left: 10vw;">{{ field.field.help_text|safe }}</div>
					{% endif %}
				{% else %}
					{% if field.is_readonly %}
						<div class="form-value-readonly">{{ field.contents }}</div>
					{% else %}
						{{ field.field|bots_input_lookups }}
						{% if field.field.help_text %}
							<div class="help" style="position: relative;flex: -moz-available;margin-left: 10vw;">{{ field.field.help_text|safe }}</div>
						{% endif %}
						{% if line.fields|length_is:'1' %}
							<div class="text-danger" style="position: relative;flex: -moz-available;margin-left: 10vw;">
								{{ field.errors }}
							</div>
						{% endif %}
					{% endif %}
				{% endif %}
			</div>
		{% endfor %}
	</div>
{% endfor %}