{% extends "admin/base_site.html" %}
{% load i18n admin_urls static %}

{% block extrahead %}
    {{ block.super }}
    {{ media }}
    <script src="{% static 'admin/js/cancel.js' %}" async></script>
{% endblock %}

{% block bodyclass %}{{ block.super }} app-{{ opts.app_label }} model-{{ opts.model_name }} delete-confirmation{% endblock %}

{% block content %}
<div id="content-main">
	<div class="row">
		<div id="card_delete_form" class="col-md-12">
			<div id="card_{{ opts.model_name }}" class="card card-dark" style="height: inherit; width: inherit; transition: all 0.15s ease 0s;">
				<div class="card-header">
					<h3 class="card-title">
                        <i class="fa-solid fa-eraser"></i>
                        {% translate 'Delete' %}
					</h3>
					<div class="card-tools">
						<a href="/admin/{{ opts.app_label }}/{{ opts.model_name }}">
							<button alt="{% trans 'Return' %}" class="btn btn-tool" title="{% trans 'Return' %}"
									type="button">
								<i class="fa-solid fa-angles-left"></i>
							</button>
						</a>
						<button type="button" class="btn btn-tool" data-card-widget="maximize">
							<i class="fa-solid fa-expand"></i>
						</button>
					</div>
				</div>

				<div class="card-body">
                    {% if perms_lacking %}
                        <div style="width:100%;padding-left:20px;padding-right:20px">
                            <div id="delete_record_perms_lacking" class="info-box bg-gradient-danger">
                                <span class="info-box-icon"><i class="fa-solid fa-circle-info"></i></span>
                                <div class="info-box-content">
                                    <span class="info-box-text">{% trans "Information" %}</span>
                                    <span class="progress-description">
                                        {% blocktranslate with escaped_object=object %}Deleting the {{ object_name }}
                                        '{{ escaped_object }}' would result in deleting related objects, but your
                                        account doesn't have permission to delete the following types of objects:
                                        {% endblocktranslate %}
                                        <hr/>
                                        <ul>
                                            {% for obj in perms_lacking %}
                                                <li>{{ obj }}</li>
                                            {% endfor %}
                                        </ul>
                                    </span>
                                </div>
                            </div>
                        </div>
    				{% elif protected %}
                        <div style="width:100%;padding-left:20px;padding-right:20px">
                            <div id="delete_record_protected" class="info-box bg-gradient-danger">
                                <span class="info-box-icon"><i class="fa-solid fa-circle-info"></i></span>
                                <div class="info-box-content">
                                    <span class="info-box-text">{% trans "Information" %}</span>
                                    <span class="progress-description">
                                        {% blocktranslate with escaped_object=object %}Deleting the {{ object_name }}
                                        '{{ escaped_object }}' would require deleting the following protected related
                                        objects:{% endblocktranslate %}
                                        <hr/>
                                        <ul>
                                            {% for obj in protected %}
                                                <li>{{ obj }}</li>
                                            {% endfor %}
                                        </ul>
                                    </span>
                                </div>
                            </div>
                        </div>
    				{% else %}
                        <div style="width:100%;padding-left:20px;padding-right:20px">
							<div class="info-box bg-gradient-danger">
								<span class="info-box-icon"><i class="fa-solid fa-clipboard-question"></i></span>
								<div class="info-box-content">
									<span class="info-box-text">
                                        {% blocktranslate with escaped_object=object %}Are you sure you want to delete
                                        the {{ object_name }} "{{ escaped_object }}"? All of the following related items
                                        will be deleted:{% endblocktranslate %}
									</span>
									<span class="progress-description">
										<hr/>
                                            {% include "admin/includes/object_delete_summary.html" %}
                                        <hr/>
									</span>
									<span class="progress-description">
                                        <h2>{% translate "Objects" %}</h2>
    					                <ul>{{ deleted_objects|unordered_list }}</ul>
                                    </span>
								</div>
							</div>
						</div>
                    {% endif %}
                </div>

				<div class="card-footer">
                    <form method="post">
                    {% csrf_token %}
    					<div>
    						<input type="hidden" name="post" value="yes">
    						{% if is_popup %}<input type="hidden" name="{{ is_popup_var }}" value="1">{% endif %}
    						{% if to_field %}<input type="hidden" name="{{ to_field_var }}" value="{{ to_field }}">{% endif %}
    						<button type="submit" class="btn btn-outline-danger btn-block float-left" style="width: auto;margin-right: 5px;">
    							{% translate 'Yes, Iâ€™m sure' %}
    						</button>
    						<a href="/admin/{{ opts.app_label }}/{{ opts.model_name }}" class="button cancel-link">
    							<button type="button" class="btn btn-outline-primary btn-block float-left" style="width: auto;margin-right: 5px;margin-top: 0px;">
    								{% translate "No, take me back" %}
    							</button>
    						</a>
    					</div>
                    </form>
				</div>
            </div>
        </div>
    </div>
</div>
{% endblock %}